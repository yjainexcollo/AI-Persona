import{f as N,h as $,i as J,r as o,j as e,T as r,m as Z,k as Q,B as f,p as X}from"./index-fCfVdIb_.js";import{V as G,a as K}from"./Visibility-D4vt_g5I.js";import{C as ee}from"./CheckCircle-CXfeXAXk.js";import{r as te}from"./createSvgIcon-DwuZuMzk.js";import{C as se}from"./Close-CAPQD7HS.js";import{D as oe,a as re,b as ne,c as ie}from"./DialogTitle-iJWlEKpy.js";import{I as L}from"./IconButton-BPkErCXm.js";import{D as E}from"./Divider-Bxrz04ol.js";import{F as O}from"./FormControlLabel-DFYemyzl.js";import{C as U}from"./Checkbox-D8KOIQnX.js";import{B as A}from"./Button-ByqV_kVW.js";import{u as ae}from"./Stack-pBjcO-O6.js";import{A as le}from"./Alert-Ch7i31mG.js";import{T as R}from"./TextField-wsB3RUt6.js";import{I as de}from"./InputAdornment-B2lj4qzo.js";import{L as B}from"./Link-CMCiHobf.js";import"./createSvgIcon-BSKynw4V.js";import"./useControlled-2dS18CDz.js";import"./Paper-CKbGO1De.js";import"./Menu-Bci3i90i.js";import"./resolveComponentProps-D3En-UR9.js";import"./SwitchBase-D6mSDcfl.js";import"./useThemeProps-CIUtJ8PR.js";import"./useSlot-DvK8vWAK.js";var b={},q;function ce(){if(q)return b;q=1;var c=N();Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var m=c(te()),x=$();return b.default=(0,m.default)((0,x.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked"),b}var me=ce();const ue=J(me),fe=`Terms and conditions outline what users can and cannot do with your website, products, and services. They lay out the rules to protect you in case of misuse and enable you to take action if it becomes necessary.
It's also referred to by other names such as terms of service (ToS) and terms of use (ToU). Even though they have different names, in fact â€“ there is no difference.
In order to use your website, products, or services, your customers usually must agree to abide by your terms and conditions first.`,xe=({open:c,onClose:m,onAgree:x})=>{const[a,p]=o.useState(!1),g=()=>{p(!1),x()},l=()=>{p(!1),m()};return e.jsxs(oe,{open:c,onClose:l,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:0,bgcolor:"#fff"}},children:[e.jsxs(re,{sx:{fontWeight:800,fontSize:28,color:"#222",pb:1.5,pt:3,px:4,display:"flex",alignItems:"center",justifyContent:"space-between"},children:["Terms and Conditions",e.jsx(L,{onClick:l,sx:{color:"#222"},children:e.jsx(se,{})})]}),e.jsx(E,{sx:{mb:0}}),e.jsxs(ne,{sx:{px:4,pt:3,pb:1},children:[e.jsx(r,{sx:{color:"#222",fontSize:16,fontWeight:400,mb:3,whiteSpace:"pre-line",lineHeight:1.5,textAlign:"justify",hyphens:"auto",wordBreak:"break-word"},children:fe}),e.jsx(O,{control:e.jsx(U,{checked:a,onChange:y=>p(y.target.checked),sx:{p:.5,mr:1}}),label:e.jsx(r,{sx:{fontSize:16,color:"#222",fontWeight:400},children:"I have read and agree to these Terms and Conditions"}),sx:{alignItems:"flex-start",".MuiFormControlLabel-label":{mt:.2}}})]}),e.jsx(E,{}),e.jsxs(ie,{sx:{px:4,py:3,bgcolor:"#f9f9f9",borderBottomLeftRadius:12,borderBottomRightRadius:12},children:[e.jsx(A,{variant:"contained",disabled:!a,onClick:l,sx:{bgcolor:"#e0e0e0",color:"#bdbdbd",fontWeight:700,fontSize:18,borderRadius:2,px:4,py:1.2,boxShadow:"none",textTransform:"none",mr:2,"&:hover":{bgcolor:"#e0e0e0"}},children:"Cancel"}),e.jsx(A,{variant:"contained",disabled:!a,onClick:g,sx:{bgcolor:a?"#526794":"#e0e0e0",color:a?"#fff":"#bdbdbd",fontWeight:700,fontSize:18,borderRadius:2,px:4,py:1.2,boxShadow:"none",textTransform:"none","&:hover":{bgcolor:a?"#526794":"#e0e0e0"}},children:"Agree"})]})]})},he=()=>{const c=Z(),m=ae(c.breakpoints.down("sm")),[x,a]=o.useState(!1),[p,g]=o.useState(!1),[l,y]=o.useState(!1),[w,v]=o.useState(!1),[s,M]=o.useState({name:"",email:"",password:""}),[T,h]=o.useState(""),[W,I]=o.useState(!1),z=Q(),S=o.useRef(null),C=o.useRef(null),D=[{label:"At least 8 characters",test:t=>t.length>=8},{label:"At least one uppercase letter (A-Z)",test:t=>/[A-Z]/.test(t)},{label:"At least one number (0-9)",test:t=>/\d/.test(t)},{label:"At least one special character (!@#$%^&*)",test:t=>/[!@#$%^&*]/.test(t)}],j=D.every(t=>t.test(s.password));o.useEffect(()=>{const t=i=>{S.current&&C.current&&!S.current.contains(i.target)&&!C.current.contains(i.target)&&v(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]),o.useEffect(()=>{if(j&&w){const t=setTimeout(()=>v(!1),1500);return()=>clearTimeout(t)}},[j,w]);const k=t=>{M({...s,[t.target.name]:t.target.value})},H=async t=>{const d=await fetch("http://localhost:3000/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),n=await d.json();if(!d.ok)throw new Error(n.error||"Failed to resend verification email");return n},V=async t=>{if(t.preventDefault(),!l){h("Please agree to the Terms and Conditions");return}if(!j){h("Please ensure your password meets all requirements");return}h(""),I(!0);try{const d=await fetch("http://localhost:3000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),n=await d.json();if(!d.ok){if(d.status===400&&n.error&&n.error.includes("Validation failed"))throw new Error(n.error);if((d.status===409||d.status===400)&&n.error&&(n.error.toLowerCase().includes("already registered")||n.error.toLowerCase().includes("pending verify"))){try{await H(s.email),h("Your email is already registered but not verified. We have resent the verification email. Please check your inbox.")}catch(F){h(F instanceof Error?F.message:"Failed to resend verification email.")}return}throw new Error(n.error||"Registration failed")}z("/login",{state:{message:"Registration successful! Please check your email and verify your account before logging in."}})}catch(i){h(i instanceof Error?i.message:"Registration failed")}finally{I(!1)}},P=t=>{t.preventDefault(),l?y(!1):g(!0)},Y=()=>{y(!0),g(!1)},_=()=>{g(!1)},u=l&&j&&s.name&&s.email;return e.jsxs(e.Fragment,{children:[e.jsx(f,{sx:{display:"flex",minHeight:"100vh",bgcolor:"#fff",justifyContent:"center",alignItems:"center",px:{xs:2,sm:3,md:4},py:{xs:2,sm:3}},children:e.jsx(f,{sx:{width:"100%",maxWidth:{xs:"100%",sm:440,md:480},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:e.jsxs(f,{component:"form",onSubmit:V,sx:{width:"100%",maxWidth:{xs:"100%",sm:380,md:420}},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:800,mb:{xs:1.5,sm:2,md:2.5},color:"#222",textAlign:"center",fontSize:{xs:"22px",sm:"24px",md:"28px"},lineHeight:1.25},children:"Create Account"}),e.jsx(r,{sx:{color:"#6b7280",fontWeight:500,fontSize:{xs:13,sm:14,md:16},mb:{xs:2,sm:2.5,md:3},textAlign:"center",lineHeight:1.4,px:{xs:1,sm:0}},children:"Fill your information below or register with your social account"}),T&&e.jsx(le,{severity:"error",sx:{mb:{xs:2,sm:2.5},fontSize:{xs:14,sm:16}},children:T}),e.jsx(r,{sx:{fontWeight:700,fontSize:{xs:13,sm:14,md:16},mb:{xs:.75,sm:1.25},color:"#222"},children:"Full Name"}),e.jsx(R,{fullWidth:!0,name:"name",placeholder:"Your name",variant:"outlined",value:s.name,onChange:k,required:!0,sx:{mb:{xs:1.75,sm:2.25},borderRadius:2,"& .MuiOutlinedInput-root":{borderRadius:2,fontSize:{xs:13,sm:14},height:{xs:44,sm:52}}}}),e.jsx(r,{sx:{fontWeight:700,fontSize:{xs:13,sm:14,md:16},mb:{xs:.75,sm:1.25},color:"#222"},children:"Email"}),e.jsx(R,{fullWidth:!0,name:"email",type:"email",placeholder:"Your email",variant:"outlined",value:s.email,onChange:k,required:!0,sx:{mb:{xs:1.75,sm:2.25},borderRadius:2,"& .MuiOutlinedInput-root":{borderRadius:2,fontSize:{xs:13,sm:14},height:{xs:44,sm:52}}}}),e.jsx(r,{sx:{fontWeight:700,fontSize:{xs:13,sm:14,md:16},mb:{xs:.75,sm:1.25},color:"#222"},children:"Password"}),e.jsxs(f,{ref:S,sx:{position:"relative"},children:[e.jsx(R,{fullWidth:!0,name:"password",placeholder:"Your password",variant:"outlined",type:x?"text":"password",value:s.password,onChange:k,onFocus:()=>v(!0),required:!0,sx:{mb:1,borderRadius:2,"& .MuiOutlinedInput-root":{borderRadius:2,fontSize:{xs:13,sm:14},height:{xs:44,sm:52}}},InputProps:{endAdornment:e.jsx(de,{position:"end",children:e.jsx(L,{onClick:()=>a(t=>!t),edge:"end",size:m?"small":"medium",children:x?e.jsx(G,{}):e.jsx(K,{})})})}}),w&&s.password&&e.jsxs(f,{ref:C,sx:{position:"absolute",top:"100%",left:0,right:0,zIndex:10,mt:1,p:{xs:1.5,sm:2},bgcolor:"#f8f9fa",borderRadius:2,border:"1px solid #e9ecef",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",maxWidth:{xs:"100%",sm:"none"}},children:[e.jsx(r,{sx:{fontWeight:600,fontSize:{xs:12,sm:13},mb:{xs:.75,sm:1},color:"#222"},children:"Password requirements:"}),D.map((t,i)=>e.jsxs(f,{sx:{display:"flex",alignItems:"center",mb:{xs:.5,sm:.75},gap:1},children:[t.test(s.password)?e.jsx(ee,{sx:{color:"#2950DA",fontSize:{xs:16,sm:18},flexShrink:0}}):e.jsx(ue,{sx:{color:"#d1d5db",fontSize:{xs:16,sm:18},flexShrink:0}}),e.jsx(r,{sx:{fontSize:{xs:12,sm:13},color:t.test(s.password)?"#2950DA":"#6b7280",fontWeight:t.test(s.password)?600:400,lineHeight:1.3},children:t.label})]},i))]})]}),e.jsx(O,{control:e.jsx(U,{checked:l,onClick:P,onChange:P,sx:{p:{xs:.5,sm:.75},mr:0,alignSelf:"flex-start",mt:-.6,"& .MuiSvgIcon-root":{fontSize:{xs:18,sm:20}}}}),label:e.jsxs(r,{sx:{fontSize:{xs:13,sm:14,md:15},color:"#222",fontWeight:400,lineHeight:1.4},children:["I agree with"," ",e.jsx(B,{href:"#",underline:"always",sx:{color:"#3269b8",fontWeight:500,cursor:"pointer"},onClick:t=>t.preventDefault(),children:"Privacy Policy and Terms and Conditions"})]}),sx:{mb:{xs:2.5,sm:3,md:3.5},alignItems:"flex-start",".MuiFormControlLabel-label":{mt:0}}}),e.jsx(A,{type:"submit",variant:"contained",fullWidth:!0,disabled:!u||W,sx:{bgcolor:u?"#2950DA":"#e5e7eb",color:u?"#fff":"#9ca3af",fontWeight:700,fontSize:{xs:15,sm:16,md:18},borderRadius:2,py:{xs:1.25,sm:1.5,md:1.75},mb:{xs:2,sm:2.5,md:3},boxShadow:u?"0 4px 12px rgba(41, 80, 218, 0.3)":"none",textTransform:"none",height:{xs:44,sm:52,md:56},transition:"all 0.2s ease-in-out","&:hover":{bgcolor:u?"#1e40af":"#e5e7eb",boxShadow:u?"0 6px 20px rgba(41, 80, 218, 0.4)":"none",transform:u?"translateY(-1px)":"none"},"&:disabled":{bgcolor:"#e5e7eb",color:"#9ca3af",opacity:.6,cursor:"not-allowed",transform:"none"}},children:W?"Signing up...":"Sign up"}),e.jsxs(r,{sx:{color:"#8a8a8a",fontSize:{xs:13,sm:14,md:16},fontWeight:400,textAlign:"center",lineHeight:1.4},children:["Already have an account?"," ",e.jsx(B,{href:"#",underline:"none",sx:{color:"#2950DA",fontWeight:700,fontSize:{xs:13,sm:14,md:16},cursor:"pointer","&:hover":{color:"#1e40af",textDecoration:"underline"}},onClick:()=>z("/login"),children:"Log in"})]})]})})}),e.jsx(xe,{open:p,onClose:_,onAgree:Y})]})},Ue=()=>{const[c]=X(),m=c.get("token")||"";return e.jsx(f,{sx:{minHeight:"100vh",width:"100%",overflowX:"hidden"},children:e.jsx(he,{inviteToken:m})})};export{Ue as default};
